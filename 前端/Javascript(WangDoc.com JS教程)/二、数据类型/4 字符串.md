# å­—ç¬¦ä¸²

## 1. æ¦‚è¿°

### 1.1 å®šä¹‰

å•å¼•å·/åŒå¼•å·

å•å¼•å·å­—ç¬¦ä¸²çš„å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·ã€‚åŒå¼•å·å­—ç¬¦ä¸²çš„å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·

å¦‚æœè¦åœ¨å•å¼•å·å­—ç¬¦ä¸²çš„å†…éƒ¨ï¼Œä½¿ç”¨å•å¼•å·ï¼Œå°±å¿…é¡»åœ¨å†…éƒ¨çš„å•å¼•å·å‰é¢åŠ ä¸Šåæ–œæ ï¼Œç”¨æ¥è½¬ä¹‰ã€‚åŒå¼•å·å­—ç¬¦ä¸²å†…éƒ¨ä½¿ç”¨åŒå¼•å·ï¼Œä¹Ÿæ˜¯å¦‚æ­¤

```javascript
'Did she say \'Hello\'?'
// "Did she say 'Hello'?"

"Did she say \"Hello\"?"
// "Did she say "Hello"?"
```

é€šå¸¸HTMLä½¿ç”¨""ï¼Œå› æ­¤JSä½¿ç”¨''

> [!Tip]
>
> å½“ç„¶ï¼Œåªä½¿ç”¨åŒå¼•å·ä¹Ÿå®Œå…¨å¯ä»¥ã€‚é‡è¦çš„æ˜¯åšæŒä½¿ç”¨ä¸€ç§é£æ ¼

å­—ç¬¦ä¸²é»˜è®¤åªèƒ½å†™åœ¨ä¸€è¡Œå†…ï¼Œåˆ†æˆå¤šè¡Œå°†ä¼šæŠ¥é”™ï¼Œå¦‚æœé•¿å­—ç¬¦ä¸²å¿…é¡»åˆ†æˆå¤šè¡Œï¼Œå¯ä»¥åœ¨æ¯ä¸€è¡Œçš„å°¾éƒ¨ä½¿ç”¨åæ–œæ 

```javascript
var longString = 'Long \
long \
long \
string';

longString
// "Long long long string"
```

è¿æ¥è¿ç®—ç¬¦ï¼ˆ`+`ï¼‰å¯ä»¥è¿æ¥å¤šä¸ªå•è¡Œå­—ç¬¦ä¸²ï¼Œå°†é•¿å­—ç¬¦ä¸²æ‹†æˆå¤šè¡Œä¹¦å†™ï¼Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿæ˜¯å•è¡Œ

```javascript
var longString = 'Long '
  + 'long '
  + 'long '
  + 'string';
```

å¦‚æœæƒ³è¾“å‡ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œæœ‰ä¸€ç§åˆ©ç”¨å¤šè¡Œæ³¨é‡Šçš„å˜é€šæ–¹æ³•

```javascript
(function () { /*
line 1
line 2
line 3
*/}).toString().split('\n').slice(1, -1).join('\n')
// "line 1
// line 2
// line 3"
```

### 1.2 è½¬ä¹‰

åæ–œæ (\\)

> [!Note]
>
> - `\0` ï¼šnullï¼ˆ`\u0000`ï¼‰
> - `\b` ï¼šåé€€é”®ï¼ˆ`\u0008`ï¼‰
> - `\f` ï¼šæ¢é¡µç¬¦ï¼ˆ`\u000C`ï¼‰
> - `\n` ï¼šæ¢è¡Œç¬¦ï¼ˆ`\u000A`ï¼‰
> - `\r` ï¼šå›è½¦é”®ï¼ˆ`\u000D`ï¼‰
> - `\t` ï¼šåˆ¶è¡¨ç¬¦ï¼ˆ`\u0009`ï¼‰
> - `\v` ï¼šå‚ç›´åˆ¶è¡¨ç¬¦ï¼ˆ`\u000B`ï¼‰
> - `\'` ï¼šå•å¼•å·ï¼ˆ`\u0027`ï¼‰
> - `\"` ï¼šåŒå¼•å·ï¼ˆ`\u0022`ï¼‰
> - `\\` ï¼šåæ–œæ ï¼ˆ`\u005C`ï¼‰

åæ–œæ è¿˜æœ‰ä¸‰ç§ç‰¹æ®Šç”¨æ³•ï¼š

ï¼ˆ1ï¼‰`\HHH`

åæ–œæ åé¢ç´§è·Ÿä¸‰ä¸ªå…«è¿›åˆ¶æ•°ï¼ˆ`000`åˆ°`377`ï¼‰ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚`HHH`å¯¹åº”è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚`\251`è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚æ˜¾ç„¶ï¼Œè¿™ç§æ–¹æ³•åªèƒ½è¾“å‡º256ç§å­—ç¬¦ã€‚

ï¼ˆ2ï¼‰`\xHH`

`\x`åé¢ç´§è·Ÿä¸¤ä¸ªåå…­è¿›åˆ¶æ•°ï¼ˆ`00`åˆ°`FF`ï¼‰ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚`HH`å¯¹åº”è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚`\xA9`è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚è¿™ç§æ–¹æ³•ä¹Ÿåªèƒ½è¾“å‡º256ç§å­—ç¬¦ã€‚

ï¼ˆ3ï¼‰`\uXXXX`

`\u`åé¢ç´§è·Ÿå››ä¸ªåå…­è¿›åˆ¶æ•°ï¼ˆ`0000`åˆ°`FFFF`ï¼‰ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚`XXXX`å¯¹åº”è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚`\u00A9`è¡¨ç¤ºç‰ˆæƒç¬¦å·

```javascript
'\251' // "Â©"
'\xA9' // "Â©"
'\u00A9' // "Â©"

'\172' === 'z' // true
'\x7A' === 'z' // true
'\u007A' === 'z' // true
```

åœ¨éç‰¹æ®Šå­—ç¬¦å‰ä½¿ç”¨åæ–œæ ï¼Œåæ–œæ ä¼šè¢«å¿½ç•¥

```javascript
'\a'
// "a"
```

åæ–œæ å‰é¢éœ€è¦å†åŠ ä¸€ä¸ªåæ–œæ ï¼Œç”¨æ¥å¯¹è‡ªèº«è½¬ä¹‰

```javascript
"Prev \\ Next"
// "Prev \ Next"
```

### 1.3 å­—ç¬¦ä¸²ä¸æ•°ç»„

å­—ç¬¦ä¸²å¯ä»¥è¢«è§†ä¸ºå­—ç¬¦æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨å¯¹æ•°ç»„çš„æ“ä½œæ–¹æ³•æ¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œ

```javascript
var s = 'hello';
s[0] // "h"
s[1] // "e"
s[4] // "o"

// ç›´æ¥å¯¹å­—ç¬¦ä¸²ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦
'hello'[1] // "e"
```

å¦‚æœæ–¹æ‹¬å·ä¸­çš„æ•°å­—è¶…è¿‡ç¬¦ä¸²çš„é•¿åº¦ï¼Œæˆ–è€…æ–¹æ‹¬å·ä¸­æ ¹æœ¬ä¸æ˜¯æ•°å­—ï¼Œåˆ™è¿”å›`undefined`

```javascript
'abc'[3] // undefined
'abc'[-1] // undefined
'abc'['x'] // undefined
```

å’Œæ•°ç»„ç›¸åŒºåˆ«ï¼Œå­—ç¬¦ä¸²å†…éƒ¨çš„å•ä¸ªå­—ç¬¦æ— æ³•æ”¹å˜å’Œå¢åˆ 

```js
var s = 'hello';

delete s[0];
s // "hello"

s[1] = 'a';
s // "hello"

s[5] = '!';
s // "hello"
```

### 1.4 lengthå±æ€§

è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¯¥å±æ€§æ— æ³•è¢«ä¿®æ”¹ï¼Œä½†æ˜¯ä¹Ÿä¸ä¼šæŠ¥é”™

```js
var s = 'hello';
s.length // 5

s.length = 3;
s.length // 5

s.length = 7;
s.length // 5
```

---

## 2. å­—ç¬¦é›†

JSä½¿ç”¨Unicodeå­—ç¬¦é›†ï¼Œå…è®¸ç›´æ¥åœ¨ç¨‹åºä¸­ä½¿ç”¨ Unicode ç ç‚¹è¡¨ç¤ºå­—ç¬¦ï¼Œå³å°†å­—ç¬¦å†™æˆ`\uxxxx`çš„å½¢å¼ï¼Œå…¶ä¸­`xxxx`ä»£è¡¨è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹

```js
var s = '\u00A9';
s // "Â©"
```

æ¯ä¸ªå­—ç¬¦åœ¨ JavaScript å†…éƒ¨éƒ½æ˜¯ä»¥16ä½ï¼ˆå³2ä¸ªå­—èŠ‚ï¼‰çš„ UTF-16 æ ¼å¼å‚¨å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaScript çš„å•ä½å­—ç¬¦é•¿åº¦å›ºå®šä¸º16ä½é•¿åº¦ï¼Œå³2ä¸ªå­—èŠ‚

UTF-16 æœ‰ä¸¤ç§é•¿åº¦ï¼šå¯¹äºç ç‚¹åœ¨`U+0000`åˆ°`U+FFFF`ä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º16ä½ï¼ˆå³2ä¸ªå­—èŠ‚ï¼‰ï¼›å¯¹äºç ç‚¹åœ¨`U+10000`åˆ°`U+10FFFF`ä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º32ä½ï¼ˆå³4ä¸ªå­—èŠ‚ï¼‰ï¼Œè€Œä¸”å‰ä¸¤ä¸ªå­—èŠ‚åœ¨`0xD800`åˆ°`0xDBFF`ä¹‹é—´ï¼Œåä¸¤ä¸ªå­—èŠ‚åœ¨`0xDC00`åˆ°`0xDFFF`ä¹‹é—´ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç ç‚¹`U+1D306`å¯¹åº”çš„å­—ç¬¦ä¸º`ğŒ†ï¼Œ`å®ƒå†™æˆ UTF-16 å°±æ˜¯`0xD834 0xDF06`

JSè¿”å›çš„å­—ç¬¦ä¸²é•¿åº¦å¯èƒ½æ˜¯ä¸æ­£ç¡®çš„ï¼Œå¯¹äºç ç‚¹åœ¨`U+10000`åˆ°`U+10FFFF`ä¹‹é—´çš„å­—ç¬¦ï¼ŒJavaScript æ€»æ˜¯è®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ï¼ˆ`length`å±æ€§ä¸º2ï¼‰

```js
'ğŒ†'.length // 2
```

---

## 3. Base64è½¬ç 

**ä½¿ç”¨åœºæ™¯ï¼š**

+ æ–‡æœ¬é‡Œé¢åŒ…å«ä¸€äº›ä¸å¯æ‰“å°çš„ç¬¦å·ï¼Œæ¯”å¦‚ ASCII ç 0åˆ°31çš„ç¬¦å·éƒ½æ— æ³•æ‰“å°å‡ºæ¥ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ Base64 ç¼–ç ï¼Œå°†å®ƒä»¬è½¬æˆå¯ä»¥æ‰“å°çš„å­—ç¬¦

+ æœ‰æ—¶éœ€è¦ä»¥æ–‡æœ¬æ ¼å¼ä¼ é€’äºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨ Base64 ç¼–ç 

 Base64 æ˜¯ä¸€ç§ç¼–ç æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»æ„å€¼è½¬æˆ 0ï½9ã€Aï½Zã€a-zã€`+`å’Œ`/`è¿™64ä¸ªå­—ç¬¦ç»„æˆçš„å¯æ‰“å°å­—ç¬¦

ä¸»è¦ç›®çš„ä¸æ˜¯ä¸ºäº†åŠ å¯†ï¼Œè€Œæ˜¯ä¸ºäº†ä¸å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œç®€åŒ–ç¨‹åºçš„å¤„ç†

JavaScript åŸç”Ÿæä¾›ä¸¤ä¸ª Base64 ç›¸å…³çš„æ–¹æ³•

- `btoa()`ï¼šä»»æ„å€¼è½¬ä¸º Base64 ç¼–ç 
- `atob()`ï¼šBase64 ç¼–ç è½¬ä¸ºåŸæ¥çš„å€¼

```js
var string = 'Hello World!';
btoa(string) // "SGVsbG8gV29ybGQh"
atob('SGVsbG8gV29ybGQh') // "Hello World!"
```

> [!Warning]
>
> è¿™ä¸¤ä¸ªæ–¹æ³•ä¸é€‚åˆé ASCII ç çš„å­—ç¬¦ï¼Œä¼šæŠ¥é”™

```js
btoa('ä½ å¥½') // æŠ¥é”™
```

> [!Tip]
>
> è¦å°†é ASCII ç å­—ç¬¦è½¬ä¸º Base64 ç¼–ç ï¼Œå¿…é¡»ä¸­é—´æ’å…¥ä¸€ä¸ªè½¬ç ç¯èŠ‚ï¼Œå†ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•

```js
function b64Encode(str) {
  return btoa(encodeURIComponent(str));
}

function b64Decode(str) {
  return decodeURIComponent(atob(str));
}

b64Encode('ä½ å¥½') // "JUU0JUJEJUEwJUU1JUE1JUJE"
b64Decode('JUU0JUJEJUEwJUU1JUE1JUJE') // "ä½ å¥½"
```

